@page "{albumId}"
@model VinylVaultWeb.Pages.BuyVinylModel
@{
    ViewData["Title"] = "Buy Vinyl";
}

<h2>Buy Vinyl: @Model.AlbumName</h2>

@if (!string.IsNullOrEmpty(Model.Message))
{
    <div class="alert alert-success">@Model.Message</div>
}

@if (Model.Sellers != null && Model.Sellers.Any())
{
    <form method="post">
        <div class="form-group">
            <label>Select a Seller:</label>
            <div class="seller-list">
                @foreach (var vinyl in Model.Sellers)
                {
                    <label class="seller-card">
                        <input type="radio" name="SelectedVinylId" value="@vinyl.Id" required />
                        <div class="seller-content">
                            <img src="@vinyl.ImagePath" alt="Vinyl Image" width="100" />
                            <div>
                                <strong>@vinyl.SellerEmail</strong><br />
                                Condition: @vinyl.Condition<br />
                                @vinyl.Description
                            </div>
                        </div>
                    </label>
                }
            </div>
        </div>
        <button type="submit" class="btn btn-primary mt-3">Confirm Purchase</button>
    </form>
}
else
{
    <div class="alert alert-warning">No available sellers for this vinyl.</div>
}
